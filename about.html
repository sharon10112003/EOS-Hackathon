<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Under the Lantern — Book</title>
  <meta name="description" content="Under the Lantern — book page with carousel, audio, and PDF preview." />
  <link rel="stylesheet" href="normalize.css">
  <!-- Bootstrap 5 CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
  <!-- MAIN HEADER -->
  <header class="main-header">
    <h1>Sharon Book Store</h1>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="content.html">Books</a></li>
        <li><a href="#">New Arrivals</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- PAGE CONTENT -->
  <div class="container">
    <header class="book-header">
      <div class="cover" aria-hidden="true">
        <img src="lantern.jpg" alt="Under the Lantern — book cover">
      </div>
      <div>
        <h1>Under the Lantern</h1>
        <div class="byline">by <strong>Author Name</strong></div>
        <div class="muted">A short teaser subtitle or tagline goes here.</div>
      </div>
    </header>

    <main>
      <!-- IMAGE CAROUSEL -->
      <section aria-label="Image gallery" class="carousel" id="carousel" tabindex="0">
        <div class="slides" id="slides">
          <figure class="slide">
            <img src="collage-numerology-concept.jpg" alt="Under the Lantern — front cover">
            <figcaption class="caption">OTHERSIDE OF LANTERN</figcaption>
          </figure>
          <figure class="slide">
            <img src="education-day-scene-fantasy-style-aesthetic.jpg" alt="Illustration of a lantern by the sea">
            <figcaption class="caption">A LANTERN BY THE SEA</figcaption>
          </figure>
          <figure class="slide">
            <img src="international-day-education-cartoon-style.jpg" alt="Interior artwork from the book">
            <figcaption class="caption">A LANTERN IN THE WINDOW</figcaption>
          </figure>
        </div>

        <button class="btn prev" id="prev" aria-label="Previous slide">&larr;</button>
        <button class="btn next" id="next" aria-label="Next slide">&rarr;</button>

        <div class="indicators" id="indicators" role="tablist" aria-label="Slide indicators"></div>
      </section>

      <!-- RIGHT COLUMN -->
      <aside class="meta" aria-labelledby="book-info">
        <div>
          <h2 id="book-info">About this book</h2>
          <p class="description">
            <em>Under the Parish Lantern</em> offers a captivating glimpse into rural life in Worcestershire,
            exploring friendship, faith, and the quiet mysteries that connect small communities.
          </p>
        </div>

        <div>
          <h3>Audio</h3>
          <audio controls preload="none" aria-label="Audio player for Under the Lantern">
            <source src="melody-of-nature-main-6672.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
          <div class="actions">
            <a class="link-btn" href="melody-of-nature-main-6672.mp3" download>⤓ Download audio</a>
            <a class="link-btn secondary" href="https://example.com/stream" target="_blank" rel="noopener">Stream externally</a>
          </div>
        </div>

        <div>
          <h3>PDF / eBook</h3>
          <div class="actions">
            <a class="link-btn" href="e-book.pdf" target="_blank" rel="noopener">Open PDF</a>
            <a class="link-btn secondary" href="e-book.pdf" download>Download PDF</a>
          </div>
          <!-- <div class="pdf-frame">
            <iframe src="e-book.pdf" title="Embedded PDF preview"></iframe>
          </div> -->
        </div>
      </aside>
    </main>
  </div>

  <!-- JAVASCRIPT FOR CAROUSEL -->
  <script>
    (function(){
      const slidesWrap = document.getElementById('slides');
      const slides = Array.from(slidesWrap.querySelectorAll('.slide'));
      const indicators = document.getElementById('indicators');
      const prev = document.getElementById('prev');
      const next = document.getElementById('next');
      const carousel = document.getElementById('carousel');

      let idx = 0;
      let autoplay = true;
      const delay = 4500;
      let timer = null;

      slides.forEach((_, i) => {
        const btn = document.createElement('button');
        btn.className = 'dot';
        btn.type = 'button';
        btn.setAttribute('aria-label', 'Go to slide ' + (i + 1));
        btn.setAttribute('role', 'tab');
        btn.setAttribute('aria-pressed', i === 0 ? 'true' : 'false');
        btn.addEventListener('click', () => { goTo(i); pauseAutoplay(); });
        indicators.appendChild(btn);
      });

      const dots = Array.from(indicators.children);

      function update() {
        slidesWrap.style.transform = `translateX(-${idx * 100}%)`;
        dots.forEach((d, i) => d.setAttribute('aria-pressed', i === idx ? 'true' : 'false'));
      }

      function goTo(i) { idx = (i + slides.length) % slides.length; update(); }
      function nextSlide() { goTo(idx + 1); }
      function prevSlide() { goTo(idx - 1); }

      next.addEventListener('click', () => { nextSlide(); pauseAutoplay(); });
      prev.addEventListener('click', () => { prevSlide(); pauseAutoplay(); });

      carousel.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') { prevSlide(); pauseAutoplay(); }
        if (e.key === 'ArrowRight') { nextSlide(); pauseAutoplay(); }
      });

      function startAutoplay() {
        clearInterval(timer);
        timer = setInterval(() => { if (autoplay) nextSlide(); }, delay);
      }

      function pauseAutoplay() {
        autoplay = false;
        clearInterval(timer);
      }

      carousel.addEventListener('mouseenter', () => autoplay = false);
      carousel.addEventListener('mouseleave', () => autoplay = true);

      // Touch swipe
      let startX = null;
      slidesWrap.addEventListener('touchstart', (e) => startX = e.touches[0].clientX, {passive:true});
      slidesWrap.addEventListener('touchend', (e) => {
        if (startX === null) return;
        const endX = e.changedTouches[0].clientX;
        const diff = startX - endX;
        if (Math.abs(diff) > 40) { diff > 0 ? nextSlide() : prevSlide(); pauseAutoplay(); }
        startX = null;
      });

      update();
      startAutoplay();
      document.getElementById('year').textContent = new Date().getFullYear();
    })();
    <!-- Bootstrap 5 JS Bundle with Popper -->
// src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">

  </script>
  <footer>
      © <span id="year"></span> Under the Lantern — All rights reserved.
    </footer>
  </div>
  
</body>
</html>
